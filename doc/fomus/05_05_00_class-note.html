<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-08-23 Fr 08:51 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Fomus</title>
<meta name="author" content="David Psenicka" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="../css/fomus.css" />
<link href="./pagefind/pagefind-ui.css" rel="stylesheet">
<script src="./pagefind/pagefind-ui.js"></script>
</head>
<body>
<div id="preamble" class="status">
<a class="top-menu" href="../overview/index.html">Overview</a>
<a class="top-menu" href="../clamps/index.html">Clamps Packages</a>
<a class="top-menu" href="../cm-dict/index.html">CM Dictionary</a>
<a class="top-menu" href="../clamps-dict/index.html">Clamps Dictionary</a>
<a class="top-menu top-menu-active" href="../fomus/index.html">Fomus</a>
</div>
<div id="org-div-nav-menu">Next: <a accesskey="n" href="05_06_00_class-rest.html"> Class REST </a>,&nbsp;Previous: <a accesskey="p" href="05_04_00_class-keysig.html"> Class KEYSIG </a>,&nbsp;Up: <a accesskey="u" href="05_00_00_objects.html"> Objects </a>,&nbsp;Home: <a accesskey="h" href="01_00_00_disclaimer.html"> Disclaimer </a></div><div id="content" class="content">
<nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul class="ul-toc-level-1">
<li class="toc-level-1"><a href="01_00_00_disclaimer.html"class="toc-entry">Disclaimer</a></li>
<li class="toc-level-1"><a href="02_00_00_introduction.html"class="toc-entry">Introduction</a></li>
<li class="toc-level-1"><a href="03_00_00_installation.html"class="toc-entry">Installation</a>
<ul class="ul-toc-level-2">
<li class="toc-hidden toc-level-2"><a href="03_00_00_installation.html"class="toc-entry">Downloading</a></li>
<li class="toc-hidden toc-level-2"><a href="03_02_00_compiling-loading.html"class="toc-entry">Compiling/Loading</a></li>
<li class="toc-hidden toc-level-2"><a href="03_03_00_installing-as-an-executable.html"class="toc-entry">Installing as an Executable</a></li>
<li class="toc-hidden toc-level-2"><a href="03_04_00_customizing-the-installation.html"class="toc-entry">Customizing the Installation</a></li>
<li class="toc-hidden toc-level-2"><a href="03_05_00_simple-emacs-interface.html"class="toc-entry">Simple Emacs Interface</a></li>
</ul>
</li>
<li class="toc-level-1"><a href="04_00_00_usage.html"class="toc-entry">Usage</a>
<ul class="ul-toc-level-2">
<li class="toc-hidden toc-level-2"><a href="04_01_00_interface-1.html"class="toc-entry">Interface 1</a></li>
<li class="toc-hidden toc-level-2"><a href="04_02_00_interface-2.html"class="toc-entry">Interface 2</a></li>
<li class="toc-hidden toc-level-2"><a href="04_03_00_text-file-interface.html"class="toc-entry">Text File Interface</a></li>
<li class="toc-hidden toc-level-2"><a href="04_04_00_common-music-interface.html"class="toc-entry">Common Music Interface</a></li>
<li class="toc-hidden toc-level-2"><a href="04_05_00_command-line-interface.html"class="toc-entry">Command Line Interface</a></li>
<li class="toc-hidden toc-level-2"><a href="04_06_00_chunks.html"class="toc-entry">Chunks</a></li>
<li class="toc-hidden toc-level-2"><a href="04_07_00_other-interface-functions.html"class="toc-entry">Other Interface Functions</a>
<ul class="ul-toc-level-3">
<li class="toc-hidden toc-level-3"><a href="04_07_00_other-interface-functions.html"class="toc-entry">list-fomus-settings</a></li>
<li class="toc-hidden toc-level-3"><a href="04_07_02_list-fomus-modules.html"class="toc-entry">list-fomus-modules</a></li>
<li class="toc-hidden toc-level-3"><a href="04_07_03_list-fomus-instruments.html"class="toc-entry">list-fomus-instruments</a></li>
<li class="toc-hidden toc-level-3"><a href="04_07_04_get-instr-syms.html"class="toc-entry">get-instr-syms</a></li>
<li class="toc-hidden toc-level-3"><a href="04_07_05_list-fomus-percussion.html"class="toc-entry">list-fomus-percussion</a></li>
<li class="toc-hidden toc-level-3"><a href="04_07_06_get-perc-syms.html"class="toc-entry">get-perc-syms</a></li>
<li class="toc-hidden toc-level-3"><a href="04_07_07_list-fomus-instrgroups.html"class="toc-entry">list-fomus-instrgroups</a></li>
<li class="toc-hidden toc-level-3"><a href="04_07_08_list-fomus-clefs.html"class="toc-entry">list-fomus-clefs</a></li>
<li class="toc-hidden toc-level-3"><a href="04_07_09_list-fomus-meas-divs.html"class="toc-entry">list-fomus-meas-divs</a></li>
<li class="toc-hidden toc-level-3"><a href="04_07_10_list-fomus-tuplet-divs.html"class="toc-entry">list-fomus-tuplet-divs</a></li>
<li class="toc-hidden toc-level-3"><a href="04_07_11_load-init-file.html"class="toc-entry">load-init-file</a></li>
<li class="toc-hidden toc-level-3"><a href="04_07_12_get-midi-instr.html"class="toc-entry">get-midi-instr</a></li>
<li class="toc-hidden toc-level-3"><a href="04_07_13_marks.html"class="toc-entry">marks</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-level-1"><a href="05_00_00_objects.html"class="toc-entry">Objects</a>
<ul class="ul-toc-level-2">
<li class="toc-level-2"><a href="05_01_00_class-part.html"class="toc-entry">Class PART</a></li>
<li class="toc-level-2"><a href="05_02_00_class-timesig.html"class="toc-entry">Class TIMESIG</a></li>
<li class="toc-level-2"><a href="05_03_00_class-timesig-repl.html"class="toc-entry">Class TIMESIG-REPL</a></li>
<li class="toc-level-2"><a href="05_04_00_class-keysig.html"class="toc-entry">Class KEYSIG</a></li>
<li class="toc-level-2"><a href="05_05_00_class-note.html"class="toc-entry toc-active">Class NOTE</a></li>
<li class="toc-level-2"><a href="05_06_00_class-rest.html"class="toc-entry">Class REST</a></li>
<li class="toc-level-2"><a href="05_07_00_class-mark.html"class="toc-entry">Class MARK</a></li>
<li class="toc-level-2"><a href="05_08_00_structure-instr.html"class="toc-entry">Structure INSTR</a></li>
<li class="toc-level-2"><a href="05_09_00_structure-perc.html"class="toc-entry">Structure PERC</a></li>
</ul>
</li>
<li class="toc-level-1"><a href="06_00_00_settings.html"class="toc-entry">Settings</a>
<ul class="ul-toc-level-2">
<li class="toc-hidden toc-level-2"><a href="06_01_00_most-useful-fomus-settings.html"class="toc-entry">Most Useful FOMUS Settings</a></li>
<li class="toc-hidden toc-level-2"><a href="06_02_00_complete-fomus-settings.html"class="toc-entry">Complete FOMUS Settings</a>
<ul class="ul-toc-level-3">
<li class="toc-hidden toc-level-3"><a href="06_02_00_complete-fomus-settings.html"class="toc-entry">Program Settings</a></li>
<li class="toc-hidden toc-level-3"><a href="06_02_02_backend-options.html"class="toc-entry">Backend Options</a></li>
<li class="toc-hidden toc-level-3"><a href="06_02_03_global.html"class="toc-entry">Global</a></li>
<li class="toc-hidden toc-level-3"><a href="06_02_04_objects.html"class="toc-entry">Objects</a></li>
<li class="toc-hidden toc-level-3"><a href="06_02_05_parts.html"class="toc-entry">Parts</a></li>
<li class="toc-hidden toc-level-3"><a href="06_02_06_time-signatures.html"class="toc-entry">Time Signatures</a></li>
<li class="toc-hidden toc-level-3"><a href="06_02_07_plugins.html"class="toc-entry">Plugins</a></li>
<li class="toc-hidden toc-level-3"><a href="06_02_08_plugins-on-off.html"class="toc-entry">Plugins On/Off</a></li>
<li class="toc-hidden toc-level-3"><a href="06_02_09_quantizing.html"class="toc-entry">Quantizing</a></li>
<li class="toc-hidden toc-level-3"><a href="06_02_10_staves.html"class="toc-entry">Staves</a></li>
<li class="toc-hidden toc-level-3"><a href="06_02_11_ottavas.html"class="toc-entry">Ottavas</a></li>
<li class="toc-hidden toc-level-3"><a href="06_02_12_accidentals.html"class="toc-entry">Accidentals</a></li>
<li class="toc-hidden toc-level-3"><a href="06_02_13_cautionary-accidentals.html"class="toc-entry">Cautionary Accidentals</a></li>
<li class="toc-hidden toc-level-3"><a href="06_02_14_grace-notes.html"class="toc-entry">Grace Notes</a></li>
<li class="toc-hidden toc-level-3"><a href="06_02_15_measure-tuplet-divisions.html"class="toc-entry">Measure/Tuplet Divisions</a></li>
<li class="toc-hidden toc-level-3"><a href="06_02_16_note-splitting-tying.html"class="toc-entry">Note Splitting/Tying</a></li>
<li class="toc-hidden toc-level-3"><a href="06_02_17_beams.html"class="toc-entry">Beams</a></li>
</ul>
</li>
<li class="toc-hidden toc-level-2"><a href="06_03_00_alphabetical-listing-of-settings.html"class="toc-entry">Alphabetical Listing of Settings</a></li>
</ul>
</li>
<li class="toc-level-1"><a href="07_00_00_marks.html"class="toc-entry">Marks</a>
<ul class="ul-toc-level-2">
<li class="toc-hidden toc-level-2"><a href="07_01_00_fomus-marks.html"class="toc-entry">FOMUS Marks</a>
<ul class="ul-toc-level-3">
<li class="toc-hidden toc-level-3"><a href="07_01_01_articulations.html"class="toc-entry">Articulations</a></li>
<li class="toc-hidden toc-level-3"><a href="07_01_02_dynamics.html"class="toc-entry">Dynamics</a></li>
<li class="toc-hidden toc-level-3"><a href="07_01_03_tempo-duration.html"class="toc-entry">Tempo/Duration</a></li>
<li class="toc-hidden toc-level-3"><a href="07_01_04_ornamentations.html"class="toc-entry">Ornamentations</a></li>
<li class="toc-hidden toc-level-3"><a href="07_01_05_effects.html"class="toc-entry">Effects</a></li>
<li class="toc-hidden toc-level-3"><a href="07_01_06_text.html"class="toc-entry">Text</a></li>
<li class="toc-hidden toc-level-3"><a href="07_01_07_notation.html"class="toc-entry">Notation</a></li>
<li class="toc-hidden toc-level-3"><a href="07_01_08_other.html"class="toc-entry">Other</a></li>
</ul>
</li>
<li class="toc-hidden toc-level-2"><a href="07_02_00_timesig-properties.html"class="toc-entry">TIMESIG Properties</a></li>
<li class="toc-hidden toc-level-2"><a href="07_03_00_part-properties.html"class="toc-entry">PART Properties</a></li>
</ul>
</li>
<li class="toc-level-1"><a href="08_00_00_outputs.html"class="toc-entry">Outputs</a>
<ul class="ul-toc-level-2">
<li class="toc-hidden toc-level-2"><a href="08_01_00_data.html"class="toc-entry">Data</a></li>
<li class="toc-hidden toc-level-2"><a href="08_02_00_lilypond.html"class="toc-entry">LilyPond</a>
<ul class="ul-toc-level-3">
<li class="toc-hidden toc-level-3"><a href="08_02_01_lilypond-options.html"class="toc-entry">LilyPond Options</a></li>
<li class="toc-hidden toc-level-3"><a href="08_02_02_alphabetical-listing-of-options.html"class="toc-entry">Alphabetical Listing of Options</a></li>
</ul>
</li>
<li class="toc-hidden toc-level-2"><a href="08_03_00_musicxml.html"class="toc-entry">MusicXML</a>
<ul class="ul-toc-level-3">
<li class="toc-hidden toc-level-3"><a href="08_03_01_musicxml-options.html"class="toc-entry">MusicXML Options</a></li>
<li class="toc-hidden toc-level-3"><a href="08_03_02_alphabetical-listing-of-options.html"class="toc-entry">Alphabetical Listing of Options</a></li>
</ul>
</li>
<li class="toc-hidden toc-level-2"><a href="08_04_00_musicxml-for-sibelius.html"class="toc-entry">MusicXML for Sibelius</a></li>
<li class="toc-hidden toc-level-2"><a href="08_05_00_musicxml-for-finale.html"class="toc-entry">MusicXML for Finale</a></li>
<li class="toc-hidden toc-level-2"><a href="08_06_00_common-music-notation.html"class="toc-entry">Common Music Notation</a>
<ul class="ul-toc-level-3">
<li class="toc-hidden toc-level-3"><a href="08_06_01_cmn-options.html"class="toc-entry">CMN Options</a></li>
<li class="toc-hidden toc-level-3"><a href="08_06_02_alphabetical-listing-of-options.html"class="toc-entry">Alphabetical Listing of Options</a></li>
</ul>
</li>
<li class="toc-hidden toc-level-2"><a href="08_07_00_midi.html"class="toc-entry">MIDI</a>
<ul class="ul-toc-level-3">
<li class="toc-hidden toc-level-3"><a href="08_07_01_midi-options.html"class="toc-entry">MIDI Options</a></li>
<li class="toc-hidden toc-level-3"><a href="08_07_02_alphabetical-listing-of-options.html"class="toc-entry">Alphabetical Listing of Options</a></li>
</ul>
</li>
<li class="toc-hidden toc-level-2"><a href="08_08_00_chunk.html"class="toc-entry">CHUNK</a></li>
</ul>
</li>
<li class="toc-level-1"><a href="09_00_00_initialization-file.html"class="toc-entry">Initialization File</a></li>
<li class="toc-level-1"><a href="10_00_00_examples.html"class="toc-entry">Examples</a>
<ul class="ul-toc-level-2">
<li class="toc-hidden toc-level-2"><a href="10_01_00_lisp-examples.html"class="toc-entry">Lisp Examples</a></li>
<li class="toc-hidden toc-level-2"><a href="10_02_00_common-music-examples.html"class="toc-entry">Common Music Examples</a></li>
<li class="toc-hidden toc-level-2"><a href="10_03_00_text-input-file-examples.html"class="toc-entry">Text Input File Examples</a></li>
</ul>
</li>
</ul>
</div>
</nav>
<header>
<h1 class="title">Fomus</h1>
</header><div id="page-main-body"><nav id="nav-left"><a href="05_04_00_class-keysig.html" class="nav-left"><i class="angle-left"></i></a></nav>
<div id="page-text-body"><div id="outline-container-section.objects6" class="outline-3">
<h3 id="section.objects6">Class NOTE</h3>
<div class="outline-text-3" id="text-section.objects6">
<p>
The <code>NOTE</code> object will usually be the only object required to describe
musical events that occur in the score. It allows the user to specify
pitch, offset and duration as well as which voice the event belongs to.
A special slot, , allows for a wide variety of
other information including articulations, clef and staff change
overrides, "spanners" like slurs or dashed lines with text, etc..
<code>NOTE</code>, <code>REST</code> and <code>MARK</code> objects are all considered "events," and so
all of their important accessors begin with an <code>EVENT-</code> prefix.
</p>

<p>
<code>NOTE</code> objects are passed to FOMUS by including them either in the
slot list of a <code>PART</code> object or in the global
<code>EVENTS</code> list. <code>NOTE</code> objects listed inside a part apply only to that
part (unless the slot indicates otherwise).
<code>NOTE</code> objects in the <code>EVENTS</code> list are distributed to parts according
to the contents their slot values.
</p>

<p>
Constructor:
<code>(MAKE-NOTE &amp;key :ID id :PARTID partid :VOICE voice :OFF off :DUR dur :NOTE note :MARKS marks)</code>
</p>

<p>
Copy Function:
<code>(COPY-NOTE note &amp;key :ID id :PARTID partid :VOICE voice :OFF off :DUR dur :NOTE note :MARKS marks)</code>
</p>

<p>
Predicate Function: <code>(NOTEP obj)</code>
</p>

<p>
Accessors:
</p>

<dl class="org-dl">
<dt><code>OBJ-ID</code></dt><dd>This slot isn't used by FOMUS.</dd>

<dt><code>EVENT-PARTID</code></dt><dd>This is a reference to a particular part or group of
parts. If the value of this slot is <code>NIL</code>, the event is included in
whatever part contains it in its slot list,
or to all parts if it is included in the global <code>EVENTS</code> list. If the
value is a symbol, number, or list of symbols or numbers, these values
are used to lookup which part or parts the event belongs to. Events
belonging to multiple parts are effectively copied into these parts.</dd>

<dt><code>EVENT-VOICE</code></dt><dd>This is an integer or a list of integers specifying a
voice or selection of voices that this note should belong to. Voice
numbers are limited to the integers 1 through 4. The default value
<code>NIL</code> specifies voice 1. If a list of choices is given, FOMUS's voice
distribution algorithm will try to make an intelligent decision based
on voice leading, pitch, balance and other factors. Note that <code>REST</code>
and <code>MARK</code> objects use this value slightly differently.</dd>

<dt><code>EVENT-OFF</code></dt><dd>This is a number (real, ratio or integer) specifying
the absolute position for the onset for this note. The offset is
measured in "beats," which may indicate different notational values
depending on what the current time signature is and what value is
present in its slot. FOMUS's quantizing
algorithm tries to fit all offsets and durations into values that make
the best use of tuplets within given constraints while minimizing the
amount of error. If this quantizing algorithm is switched off, then
the user must insure that all offset and duration values are precise
and "notatable" (floating point numbers are not recommended in this
case).</dd>

<dt><code>EVENT-DUR</code></dt><dd><p>
This is set to either a number to specify a regular
duration or a list to specify a grace note. If it's a number (real,
ratio or integer) it indicates the note's duration in beats (see
<code>EVENT-OFF</code> above). The comments in <code>EVENT-OFF</code> on quantization also
apply here. If Common Music is present and <code>USE-CM</code> is set to <code>T</code>, the
value of this slot may also be a symbol, which is parsed by CM using
its <code>RHYTHM</code> function. Symbols in this case designate notational
values and not beats, although numbers are still interpreted with
respect to beats and not filtered through CM's <code>RHYTHM</code> function.
</p>

<p>
If a grace note is desired then a list of two elements must be
specified, the first element being the duration value described above
and the second element being an integer value describing the
"position" that the grace note occupies. Grace notes with the same
offset are organized with respect to this position number. Lower
position grace notes occur earlier in the score than higher position
notes. Grace notes with the same position form chords, and notes with
negative positions are notated with a slash. The duration value at the
front of the list is still interpreted in terms of beats and notated
as such even though the note does not take up time in the measure.
Specifying a duration of <code>'(1/4 -1)</code>, for example, specifies a grace
sixteenth note with a slash if the current beat is 1/4 (a quarter
note).
</p></dd>

<dt><code>EVENT-NOTE</code></dt><dd><p>
This slot either designates a pitch (with an optional
choice of spellings) or a percussion instrument if the part is a
percussion part. If specifying a pitch, the value may be either a
symbol or a number (real, ratio or integer). If a number is used, 60
represents middle C, as in a MIDI file. Numbers are rounded depending
on the whether semitones or quartertones are specified (see the
<code>QUARTERTONES</code> setting). Symbols are assembled by concatenating a note
letter name (<code>A</code> through <code>G</code>), a <code>+</code> or <code>S</code> for sharp or a <code>-</code> or <code>F</code>
for flat, and an integer designating the register (<code>4</code> is the octave
above middle C). A few examples are given here:
</p>

<pre class="example" id="orge5a6277">
'c+4
                
</pre>

<pre class="example" id="org61ec1e7">
'ef5
                
</pre>

<p>
Quartertones must be specified using numbers. If Common Music is
present and <code>USE-CM</code> is set to <code>T</code>, symbols are filtered through CM's
<code>KEYNUM</code> function. In this case, the value of <code>CM-SCALE</code> will also be
passed to the function if it is set to anything other than <code>NIL</code>.
</p>

<p>
If a list of spelling choices is supplied, FOMUS will try to use the
note spellings in this list. To specify one, the value of the
slot must be a list, the first element of which
is the note number or symbol described above and the rest of which is
the list of spelling choices. A spelling choice is represented either
by a number or symbol. <code>1</code>, <code>+</code> or <code>S</code> designates using a sharp while
<code>-1</code>, <code>-</code> or <code>F</code> designates a flat. <code>0</code>, <code>N</code> designates a natural
while repeating one of the above symbols (for example, <code>++</code> or <code>SS</code>)
designates a double sharp or flat. <code>2</code> or <code>-2</code> also designates a
double sharp or flat. Quartertones spellings are specified using a
list of two elements, the first element specifying the semitone
alteration and the second element specifying the quartertone
alteration (one of the numbers <code>-1/2</code>, <code>0</code> or <code>1/2</code>). A few examples
are given here:
</p>

<pre class="example" id="orge23aac8">
'(f4 + --)
                
</pre>

<pre class="example" id="org19631fa">
'(61.5 (n -1/2))
                
</pre>

<p>
If FOMUS's note spelling algorithm is switched off then all note
spellings must be supplied by the user (so each 
slot must contain a list of two elements specifying the pitch and its
spelling, unless it is spelled with a natural).
</p></dd>

<dt><code>EVENT-MARKS</code></dt><dd>This slot is nearly equivalent to the
slot in the <code>MARK</code> class described below. The
contents of the slots of <code>MARK</code> objects are
actually dumped into the slots of <code>NOTE</code> and
<code>REST</code> objects once voices and staves have been decided. See the
<code>MARK</code> class for more information and <a href="#org6d5c19f">Marks</a> for a more detailed
explanation of marks and their usage.</dd>
</dl>
</div>
</div>
</div><nav id="nav-right"><a href="05_06_00_class-rest.html" class="nav-right"><i class="angle-right"></i></a></nav></div></div>
</body>
</html>
